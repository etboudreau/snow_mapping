# BUffered 100m and Simplified to 22.3% of effected area?
geo_json_geometry = {
  "type": "Polygon",
  "coordinates":[
      [
        [
          -106.98807069359687,
          38.95626240457326
        ],
        [
          -106.98653662683259,
          38.9563152105953
        ],
        [
          -106.98626321297664,
          38.95580089880792
        ],
        [
          -106.98437566629589,
          38.95497880315173
        ],
        [
          -106.98281911033101,
          38.95491014976032
        ],
        [
          -106.9817771863085,
          38.955378373223716
        ],
        [
          -106.9776437404578,
          38.955538634063196
        ],
        [
          -106.9764693726989,
          38.95587331427231
        ],
        [
          -106.97401694043477,
          38.957688157861824
        ],
        [
          -106.97207647574402,
          38.95671915737025
        ],
        [
          -106.96878471513126,
          38.956499435932805
        ],
        [
          -106.96584154731549,
          38.956850090128
        ],
        [
          -106.96449838020298,
          38.9572925354095
        ],
        [
          -106.96210206590294,
          38.95755931663632
        ],
        [
          -106.95810620438228,
          38.95874517021625
        ],
        [
          -106.955503764245,
          38.96133373105872
        ],
        [
          -106.95543136419103,
          38.961895441450544
        ],
        [
          -106.95394366327059,
          38.96405217547713
        ],
        [
          -106.95193206950313,
          38.96489619874243
        ],
        [
          -106.9511791016482,
          38.96675100535691
        ],
        [
          -106.94907545981329,
          38.96826678471144
        ],
        [
          -106.94760356329343,
          38.967937768683484
        ],
        [
          -106.94506203891756,
          38.96616877426966
        ],
        [
          -106.94327880558056,
          38.965667219639414
        ],
        [
          -106.9401758932818,
          38.96392485395681
        ],
        [
          -106.93345370083425,
          38.96429875097574
        ],
        [
          -106.93179434627376,
          38.96517990988412
        ],
        [
          -106.93086438692278,
          38.966461590836175
        ],
        [
          -106.92976414706311,
          38.96868482547815
        ],
        [
          -106.9297968551334,
          38.969889621552554
        ],
        [
          -106.92900127239034,
          38.97095004205608
        ],
        [
          -106.92697555937863,
          38.972022230204516
        ],
        [
          -106.92621148514748,
          38.97387946199705
        ],
        [
          -106.92538119155823,
          38.97731710853096
        ],
        [
          -106.92566320842016,
          38.97920463240045
        ],
        [
          -106.9235746214574,
          38.979193098113605
        ],
        [
          -106.92218792005139,
          38.97845580569713
        ],
        [
          -106.91630702036977,
          38.977226968613955
        ],
        [
          -106.91419501746189,
          38.97852333603471
        ],
        [
          -106.91211258743718,
          38.97948309650628
        ],
        [
          -106.91158889629584,
          38.98098551685968
        ],
        [
          -106.90837340862153,
          38.98422180643494
        ],
        [
          -106.90700701638349,
          38.986194480092045
        ],
        [
          -106.90698642408843,
          38.98714055541023
        ],
        [
          -106.9076175691497,
          38.98886279015641
        ],
        [
          -106.9085237811666,
          38.9900585473769
        ],
        [
          -106.90855629550533,
          38.991268614535905
        ],
        [
          -106.9069156285411,
          38.99237790525808
        ],
        [
          -106.90646083994562,
          38.9949278541438
        ],
        [
          -106.90852799049728,
          38.99983412474125
        ],
        [
          -106.90936526160941,
          39.001237638561584
        ],
        [
          -106.91056044497564,
          39.00160119491575
        ],
        [
          -106.91285189828936,
          39.000679905773076
        ],
        [
          -106.91427824025412,
          39.00082873097108
        ],
        [
          -106.91767229918169,
          39.00024031014797
        ],
        [
          -106.92289795426481,
          39.00258360488942
        ],
        [
          -106.92500277874257,
          39.00402281857586
        ],
        [
          -106.92920450627373,
          39.005895120207754
        ],
        [
          -106.931358109678,
          39.00578099727073
        ],
        [
          -106.9337675869408,
          39.00634575066106
        ],
        [
          -106.9347429211538,
          39.007713540077326
        ],
        [
          -106.93684770564126,
          39.008669722967625
        ],
        [
          -106.9391993723474,
          39.0109496598713
        ],
        [
          -106.9412035372274,
          39.01210271308463
        ],
        [
          -106.9425688912387,
          39.01321161127866
        ],
        [
          -106.94297539677473,
          39.01419700709704
        ],
        [
          -106.94480254268318,
          39.01565912922184
        ],
        [
          -106.94869821187503,
          39.01576415465468
        ],
        [
          -106.94920246317831,
          39.0164828441942
        ],
        [
          -106.95060542403252,
          39.017323491032435
        ],
        [
          -106.95361776384341,
          39.01766407316769
        ],
        [
          -106.9556739045576,
          39.017561013332696
        ],
        [
          -106.95721586054079,
          39.01679280163001
        ],
        [
          -106.95948297823827,
          39.01613295139401
        ],
        [
          -106.96009615230004,
          39.01555678046296
        ],
        [
          -106.9595930637943,
          39.01357437834057
        ],
        [
          -106.96133702757362,
          39.011273364645305
        ],
        [
          -106.96178700800056,
          39.008759749688245
        ],
        [
          -106.96609000489858,
          39.00659262141543
        ],
        [
          -106.96700365524447,
          39.005846568932164
        ],
        [
          -106.9670281904129,
          39.0044976593709
        ],
        [
          -106.96445090781432,
          39.00219696256836
        ],
        [
          -106.96525572807434,
          38.999988610946616
        ],
        [
          -106.96532876771737,
          38.99845563317943
        ],
        [
          -106.96482666750879,
          38.99700171092134
        ],
        [
          -106.9659955585617,
          38.994930377959214
        ],
        [
          -106.9681192596884,
          38.9949846536181
        ],
        [
          -106.96949359707513,
          38.99404660137715
        ],
        [
          -106.97085320693854,
          38.99364642454298
        ],
        [
          -106.97155611177648,
          38.99301883446215
        ],
        [
          -106.97158438971289,
          38.99087149549984
        ],
        [
          -106.97118933145606,
          38.98930523819994
        ],
        [
          -106.97174710693591,
          38.98847690343935
        ],
        [
          -106.97131391669855,
          38.98733887513715
        ],
        [
          -106.96962356263882,
          38.98507016613019
        ],
        [
          -106.9693277772238,
          38.9834465322564
        ],
        [
          -106.9701759515802,
          38.98171761376108
        ],
        [
          -106.97172327335662,
          38.97946862223441
        ],
        [
          -106.97295733392279,
          38.97695682798479
        ],
        [
          -106.97320302954897,
          38.97592493855333
        ],
        [
          -106.97515637602513,
          38.973881841260976
        ],
        [
          -106.97992067455151,
          38.97016154126392
        ],
        [
          -106.98020636156349,
          38.9692436016245
        ],
        [
          -106.98027414682292,
          38.96711730038853
        ],
        [
          -106.97988096493725,
          38.96633154469272
        ],
        [
          -106.98499192478931,
          38.96217793763713
        ],
        [
          -106.98733800483816,
          38.95969880066974
        ],
        [
          -106.98791137816372,
          38.959568314602166
        ],
        [
          -106.98985995030259,
          38.95810845079747
        ],
        [
          -106.9899154265856,
          38.956951770542524
        ],
        [
          -106.98918010887071,
          38.95613187035182
        ],
        [
          -106.98807069359687,
          38.95626240457326
        ]
      ]
    ]
  
}

# filter for items the overlap with our chosen geometry
geometry_filter = {
  "type": "GeometryFilter",
  "field_name": "geometry",
  "config": geo_json_geometry
}

# filter images acquired in a certain date range
date_range_filter = {
  "type": "DateRangeFilter",
  "field_name": "acquired",
  "config": {
    "gte": "2022-03-25T00:00:00.000Z",
    "lte": "2022-09-30T00:00:00.000Z"
  }
}

# filter any images which are more than 5% clouds
cloud_cover_filter = {
  "type": "RangeFilter",
  "field_name": "cloud_cover",
  "config": {
    "lte": 0.05
  }
}

# create a filter that combines our geo and date filters
# could also use an "OrFilter"
#domain = {
#  "type": "AndFilter",
#  "config": [geometry_filter, date_range_filter]
#}

# create a filter that combines our geo and date filters
# could also use an "OrFilter"
domain = {
  "type": "AndFilter",
  "config": [geometry_filter, date_range_filter, cloud_cover_filter]
}
